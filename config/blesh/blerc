# ~/.blerc - capa "zsh-like" para ble.sh

# --- Integración fzf via ble (completado + keybindings) ---
# Esto sustituye a los scripts /usr/share/fzf/key-bindings.bash & friends.
ble-import integration/fzf-completion
ble-import integration/fzf-key-bindings



# --- Autosuggestions tipo zsh-autosuggestions/fish ---

# Sugerencias automáticas rápidas pero no agresivas (en ms)
# 0 = ultra inmediato; 100-200 se siente fluido
bleopt complete_auto_delay=120

# Color tenue de la sugerencia (gris claro)
ble-face auto_complete='fg=245,italic'
# Color para errores de sintaxis
ble-face syntax_error='fg=203,bold'

# --- Ruido visual mínimo, estilo shell limpia ---

# Quita marcadores tipo "[ble: EOF]" y tiempos de comandos
bleopt prompt_eol_mark=''
bleopt exec_errexit_mark=
bleopt exec_elapsed_mark=
bleopt edit_marker=
bleopt edit_marker_error=

# Ejecutar la línea actual con Ctrl-G (también en MULTILINE)
ble-bind -f 'C-g' 'accept-line'

# Asegurar que Alt+. inserta el último argumento
ble-bind -f 'M-.' insert-last-argument


# Despues de cargar fzf, si Atuin está disponible, forzar C-r -> Atuin
#if command -v __atuin_history >/dev/null 2&1; then
  ble-bind -x 'C-r' __atuin_history
#fi
# --- Comportamiento de completado tipo zsh ---

# De serie ble.sh ya:
# - Hace sintaxis highlighting tipo zsh-syntax-highlighting
# - Muestra menú de completado navegable con TAB / Shift-TAB
# - Da autosuggestions al estilo fish/zsh sobre la línea actual
# Aquí solo documentamos el uso:
#   - TAB / Shift-TAB: moverte por el menú de completado
#   - Flechas / teclas de movimiento: aceptar sugerencias cuando estés al final de la línea
